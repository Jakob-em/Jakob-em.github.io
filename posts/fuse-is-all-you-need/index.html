<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>FUSE is All You Need - Giving agents access to anything via filesystems | Jakob Emmerling</title><meta name=keywords content="ai,agents"><meta name=description content="Giving agents access to a sandboxed environment with a shell and a filesystem has been the latest hype when it comes to agentic harnesses. Recent examples of this include:

Turso&rsquo;s AgentFS
Anthropic&rsquo;s Agent SDK, which brings Claude Code&rsquo;s harness to non-coding domains
Vercel rebuilding their text-to-SQL agent on top of a sandbox
Anthropic&rsquo;s Agent Skills for filesystem-based progressive disclosure

The argument for why this is good goes something like this:

The big labs are doing heavy RL for coding tasks in these kinds of environments. Aligning more closely with such a harness brings free gains from the coding domain to other problem spaces."><meta name=author content><link rel=canonical href=https://jakobemmerling.de/posts/fuse-is-all-you-need/><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://jakobemmerling.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jakobemmerling.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jakobemmerling.de/favicon-32x32.png><link rel=apple-touch-icon href=https://jakobemmerling.de/apple-touch-icon.png><link rel=mask-icon href=https://jakobemmerling.de/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://jakobemmerling.de/posts/fuse-is-all-you-need/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://jakobemmerling.de/posts/fuse-is-all-you-need/"><meta property="og:site_name" content="Jakob Emmerling"><meta property="og:title" content="FUSE is All You Need - Giving agents access to anything via filesystems"><meta property="og:description" content="Giving agents access to a sandboxed environment with a shell and a filesystem has been the latest hype when it comes to agentic harnesses. Recent examples of this include:
Turso’s AgentFS Anthropic’s Agent SDK, which brings Claude Code’s harness to non-coding domains Vercel rebuilding their text-to-SQL agent on top of a sandbox Anthropic’s Agent Skills for filesystem-based progressive disclosure The argument for why this is good goes something like this:
The big labs are doing heavy RL for coding tasks in these kinds of environments. Aligning more closely with such a harness brings free gains from the coding domain to other problem spaces."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-11T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-11T00:00:00+00:00"><meta property="article:tag" content="Ai"><meta property="article:tag" content="Agents"><meta name=twitter:card content="summary"><meta name=twitter:title content="FUSE is All You Need - Giving agents access to anything via filesystems"><meta name=twitter:description content="Giving agents access to a sandboxed environment with a shell and a filesystem has been the latest hype when it comes to agentic harnesses. Recent examples of this include:

Turso&rsquo;s AgentFS
Anthropic&rsquo;s Agent SDK, which brings Claude Code&rsquo;s harness to non-coding domains
Vercel rebuilding their text-to-SQL agent on top of a sandbox
Anthropic&rsquo;s Agent Skills for filesystem-based progressive disclosure

The argument for why this is good goes something like this:

The big labs are doing heavy RL for coding tasks in these kinds of environments. Aligning more closely with such a harness brings free gains from the coding domain to other problem spaces."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jakobemmerling.de/posts/"},{"@type":"ListItem","position":2,"name":"FUSE is All You Need - Giving agents access to anything via filesystems","item":"https://jakobemmerling.de/posts/fuse-is-all-you-need/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"FUSE is All You Need - Giving agents access to anything via filesystems","name":"FUSE is All You Need - Giving agents access to anything via filesystems","description":"Giving agents access to a sandboxed environment with a shell and a filesystem has been the latest hype when it comes to agentic harnesses. Recent examples of this include:\nTurso\u0026rsquo;s AgentFS Anthropic\u0026rsquo;s Agent SDK, which brings Claude Code\u0026rsquo;s harness to non-coding domains Vercel rebuilding their text-to-SQL agent on top of a sandbox Anthropic\u0026rsquo;s Agent Skills for filesystem-based progressive disclosure The argument for why this is good goes something like this:\nThe big labs are doing heavy RL for coding tasks in these kinds of environments. Aligning more closely with such a harness brings free gains from the coding domain to other problem spaces.\n","keywords":["ai","agents"],"articleBody":"Giving agents access to a sandboxed environment with a shell and a filesystem has been the latest hype when it comes to agentic harnesses. Recent examples of this include:\nTurso’s AgentFS Anthropic’s Agent SDK, which brings Claude Code’s harness to non-coding domains Vercel rebuilding their text-to-SQL agent on top of a sandbox Anthropic’s Agent Skills for filesystem-based progressive disclosure The argument for why this is good goes something like this:\nThe big labs are doing heavy RL for coding tasks in these kinds of environments. Aligning more closely with such a harness brings free gains from the coding domain to other problem spaces.\nBeyond that, replacing a bunch of search/write/move/list tools with a single Bash tool reduces the tool space significantly. Agents can chain operations together intuitively. Unix paradigms give you good tool design for free.\nOn top of that there is more nice patterns that emerge from having a filesystem, for example:\nPlan/scratch files: Agents can create temporary files to organize their thoughts, track progress, or store intermediate results. This emerges naturally from having filesystem access, no need to design a separate “notepad” tool. Long context handling: As conversations grow, you can compact old messages and tool results into files on the filesystem. The agent can re-read them when needed rather than keeping everything in context. So the advantages are clear. But how do you actually apply this to your domain? This is where things get tricky. Consider two examples:\nA domain with parallels to filesystems: For example an agent for organizing emails. There are folders, items (emails), and you can browse them and move things around.\nAn existing platform that already looks like a filesystem: For example an agent inside Google Drive.\nWhen you try to fit these into a sandboxed filesystem you might wonder:\nWhen do I copy over the files? Do I copy over everything? How do I write back updates that the agent made? When do I sync edits made by a human? How do I show folders/files progressively as the agent progresses? (Particularly useful if you want to lean into the filesystem as a tool to manage long context.) A reply to a recent post on X from Vercel about building filesystem-based agents puts it well:\nThis article doesn’t really answer that question though.\nThey explain the shape of the filesystem really well, but the missing piece is still the main question for existing apps: how do you actually materialize Postgres + object storage + APIs into that sandbox FS in a practical and scalable way? “Preload files” is hand-wavy without a recommended ingestion/snapshot pattern.\nThis post will show a pattern to close that gap: turning anything into a filesystem with the help of FUSE.\nAn example: Email agent To make this tangible, let’s build a fictional agent.\nImagine we’re building an AI-powered email platform, think Gmail but with AI on top. We have our own database storing emails, folders, and contacts. We have a UI that users interact with.\nNow we want to add a powerful agent on top of that platform. We could build a simple agent loop with tools like list-emails, move-email, read-email, but as we established there’s a more ergonomic approach: put our emails in a filesystem.\nAfter some thinking, we come up with the following file layout for the agent’s sandbox:\nworkspace/ Inbox/ Customer Inquiry - Size Chart (emily.wolfe@gmail.com) PO Confirmation #2026-0038 (supplierC@fabricdirect.com) Shipping Delay Notice (supplierA@logisticsco.com) Partnership Proposal - TrendCircle (marketing@trendcircle.io) Starred/ Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co) Re: Restock ETA For Red Jackets (supplierA@logisticsco.com) Needs_Action/ Missing Documents - Customs (carrier-support@airbridge.co) Last Call: VAT Filing Deadline (gov-tax@tradeportal.gov) Orders/ 2026/ Feb/ PO Confirmation #2026-0038 (supplierC@fabricdirect.com) Shipping Delay Notice (supplierA@logisticsco.com) Customers/ Returns/ Return Request #8743 (john.hartley@yahoo.com) Sent/ Re: Customer Inquiry - Size Chart (emily.wolfe@gmail.com) Now comes the problem: we need to bridge the gap from our database to the sandboxed filesystem that the agent uses to consume our data.\nHow to turn anything into a FS, enter FUSE FUSE stands for Filesystem in Userspace. It’s a framework that lets you implement filesystems outside the kernel, while the kernel makes it look like a ‘real’ filesystem to the rest of Linux. You just write a userland process that implements the actual filesystem logic.\nA FUSE filesystem needs to implement a small, well-defined interface: lookup, open, read, write, readdir, create, unlink, etc. Whenever the OS interacts with the mounted filesystem, operations get forwarded to your userspace implementation. This indirection makes it possible to expose arbitrary data structures as if they were files.\nThere are wrappers and bindings for higher-level languages that let you write these filesystems in the language and tech stack of your choice. No need to dive into C :)\nArchitecture Coming back to our email agent, here’s how FUSE would fit into a very high-level architecture:\nThe top row shows the traditional path: users interact with your app through a UI that talks to a backend, which reads and writes to a database.\nThe bottom row shows the agent path: the agent runs inside a sandbox and sees a mounted filesystem. When it does ls /workspace/Inbox, that call hits the FUSE layer, which translates it into a query against the same backend. The agent and your users are looking at the same data through different interfaces.\nYou can think of the filesystem as a UI layer for the agent. Just like your frontend decides how to present data to users, your FUSE implementation decides how to present data to the agent. Realistically you’ll have additional tools for actions that don’t map well to filesystem operations (like sending an email), but for browsing, reading, and organizing data, the filesystem abstraction works great.\nFor this blog post we’ll keep things simple: the agent loop and FUSE implementation both run inside a Docker container, talking directly to a database. We are going to implement this in Typescript using the fuse-native library. In production you’d want to structure things a bit differently, like running the agent loop outside the sandbox and have your FUSE bindings be only a thin client that calls out to your backend with proper authentication for example.\nImplementing the filesystem operations To make our data accessible via the filesystem, we need to implement the subset of FUSE operations relevant for our use case. Let’s start with listing directories (readdir):\nexport async function readdir(path: string, cb: (err: number, names?: string[]) =\u003e void) { const [folder] = await db.select().from(foldersTable).where(eq(foldersTable.path, path)); if (!folder) { return cb(Fuse.ENOENT); } const emailsInFolder = await db.select({ email: emailsTable, sender: contactsTable, }).from(emailsTable) .leftJoin(contactsTable, eq(emailsTable.sender, contactsTable.id)) .where(eq(emailsTable.folderId, folder.id)); const entries = new Set\u003cstring\u003e(); for (const {email, sender} of emailsInFolder) { entries.add(`${email.subject} (${sender.email}).eml`); } const subfolders = await db.select().from(foldersTable).where(like(foldersTable.path, sql`${path}/%`)); for (const subfolder of subfolders) { entries.add(subfolder.path.split(\"/\").pop() || \"\"); } cb(0, Array.from(entries)); } We match which email folder we’re in based on the filesystem path, list all emails inside that folder, and add any subfolders. Together with implementing getattr (to get file attributes), this makes listing and navigating the folder tree via ls work.\nTo choose how email content will be represented we implement read like this:\nexport async function read(path: string, fd: number, buf: Buffer, len: number, pos: number, cb: (err: number) =\u003e void) { const email = await getEmailById(fd); if (!email) { return cb(Fuse.ENOENT); } const content = emailToContent(email); const slice = content.slice(pos, pos + len); const bytesRead = buf.write(slice); cb(bytesRead); } export function emailToContent(email: EmailWithSender): string { return `From: ${email.senderEmail} Date: ${email.sentAt.toISOString()} Subject: ${email.subject} X-Folder: ${email.folderPath} X-Starred: ${email.starred} X-Needs-Action: ${email.needsAction} ${email.body} `; } There are a few more operations I implemented like open, mkdir, and rename to allow moving email files around and reassigning folder IDs in the database.\nOn top of that, I introduced the concept of virtual folders—the Starred and Needs_Action folders in the layout above. They work like this: if an email has the starred or needsAction flag set, it appears in these folders. Because an email can be both starred and part of an actual folder, the Starred folder contains symlinks to the “actual” files. The agent can unlink these files or create new links to flip attributes on the email. This might be overkill and better covered via regular tools, but I wanted to see how far I could lean into the filesystem abstraction. For this to work, I implemented additional FUSE operations: readlink, symlink, unlink, and adjusted the existing ones.\nDeciding how to map your domain to a filesystem is really a context engineering challenge in the end. The key is finding the right balance between leveraging familiar filesystem semantics and not over-abstracting to the point where the mapping becomes confusing.\nWith all the filesystem operations defined, we’re ready to mount it and see it in action. While it’s possible to get this working on a Mac via macFUSE, I chose the easier path and spun up a Docker container and mounted the filesystem there.\nHere’s a quick demo of navigating the filesystem. As you can see, it looks and works just like regular files.grep, mv, ls all behave as expected. The best part? There’s no risk of anything going out of sync because we read directly from the database. We also only load the things we needed when they are accessed instead of preloading our entire database into a sandbox.\nGiving the agent access to it Now that we have the filesystem working, it’s time to hook up an agent and see how it performs. I used the Anthropic Agent SDK to whip up a quick filesystem agent with tools to run Bash, Read, Glob, etc. To give the agent some context about the filesystem, I added the following system prompt:\nYou are an email assistant helping the user manage their inbox. You have access to a filesystem at /workspace representing their email: - Folders: Inbox, Sent, Orders, Customers, etc. - Emails: .eml files named \"Subject (sender@email.com).eml\" - Filenames contain spaces (from email subjects), so always quote paths in shell commands - Starred/Needs_Action: contain symlinks to flagged emails Commands you use internally: - ls, cat, find → browse emails - mv → move emails between folders - ln -s /Starred/ → star an email - rm /Starred/ → unstar an email - mkdir → create folders When responding to the user: - Describe emails by subject and sender, not filenames - Say \"starred\" not \"created symlink\" - Say \"moved to Orders\" not \"mv to /Orders/\" - Summarize what you found/did in plain language Let’s see how it approaches some common user queries:\n\u003e which emails do i have in my Inbox? I'll check your Inbox to see what emails you have. [Bash] ls -la /workspace/Inbox/ You have 6 emails in your Inbox: 1. **\"Missing Documents - Customs\"** from carrier-support@airbridge.co (Jan 4) 2. **\"PO Confirmation #2026-0038\"** from supplierC@fabricdirect.com (Jan 9) 3. **\"Partnership Proposal - TrendCircle\"** from marketing@trendcircle.io (Jan 7) 4. **\"Re: Restock ETA For Red Jackets\"** from supplierA@logisticsco.com (Jan 5) 5. **\"Shipping Delay Notice\"** from supplierA@logisticsco.com (Jan 8) 6. **\"Wholesale Inquiry - SilverLeaf Boutique\"** from boutique@silverleaf.co (Jan 6) Would you like me to read any of these emails or help you organize them? \u003e find the email about that wholesale inquiry, i need to remember to follow up on it I'll help you find the wholesale inquiry email. Let me search for it. [Bash] find /workspace -type f -name \"*.eml\" -exec grep -l \"wholesale\" {} \\; Found it! There's a wholesale inquiry from SilverLeaf Boutique (boutique@silverleaf.co) in your Inbox. Would you like me to: 1. Star it so you can easily find it later to follow up? 2. Move it to a specific folder? 3. Show you the email content? \u003e show me the email and star it [Read] /workspace/Inbox/Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co).eml [Bash] ln -s \"/workspace/Inbox/Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co).eml\" /workspace/Starred/ Here's the email: **From:** boutique@silverleaf.co **Date:** January 6, 2026 **Subject:** Wholesale Inquiry - SilverLeaf Boutique **Message:** \"We're a boutique in Portland and interested in carrying your line. What are your wholesale terms?\" Good news - this email is already starred! It looks like it was already flagged for follow-up. SilverLeaf Boutique is interested in carrying your products and wants to know about your wholesale terms. \u003e Organize my Inbox I'll help you organize your inbox. Let me first see what emails you have there. [Bash] ls -la /workspace/Inbox/ Now let me check what folders you already have set up: [Bash] ls -d /workspace/*/ Perfect! I can see you have 8 emails in your inbox. Let me organize them into appropriate folders: [Bash] mv \"/workspace/Inbox/Customer Inquiry - Size Chart (emily.wolfe@gmail.com).eml\" /workspace/Customers/ [Bash] mv \"/workspace/Inbox/Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co).eml\" /workspace/Customers/ [Bash] mv \"/workspace/Inbox/PO Confirmation #2026-0038 (supplierC@fabricdirect.com).eml\" /workspace/Orders/ [Bash] mv \"/workspace/Inbox/Re: Restock ETA For Red Jackets (supplierA@logisticsco.com).eml\" /workspace/Orders/ [Bash] mv \"/workspace/Inbox/Shipping Delay Notice (supplierA@logisticsco.com).eml\" /workspace/Orders/ Now let me flag the urgent items that need action: [Bash] ln -s \"/workspace/Inbox/Last Call: VAT Filing Deadline (gov-tax@tradeportal.gov).eml\" /workspace/Needs_Action/ [Bash] ln -s \"/workspace/Inbox/Missing Documents - Customs (carrier-support@airbridge.co).eml\" /workspace/Needs_Action/ Good - those urgent items are already flagged. Now let me check if the partnership proposal might be something to consider: [Bash] cat \"/workspace/Inbox/Partnership Proposal - TrendCircle (marketing@trendcircle.io).eml\" Let me create a folder for business opportunities and move the partnership proposal there: [Bash] mkdir -p /workspace/Business_Opportunities \u0026\u0026 mv \"/workspace/Inbox/Partnership Proposal - TrendCircle (marketing@trendcircle.io).eml\" /workspace/Business_Opportunities/ Let me verify your inbox is now organized: [Bash] ls /workspace/Inbox/ Perfect! I've organized your inbox. Here's what I did: **Moved to Customers folder (2 emails):** - Customer Inquiry - Size Chart from emily.wolfe@gmail.com - Wholesale Inquiry - SilverLeaf Boutique from boutique@silverleaf.co **Moved to Orders folder (3 emails):** - PO Confirmation #2026-0038 from supplierC@fabricdirect.com - Re: Restock ETA For Red Jackets from supplierA@logisticsco.com - Shipping Delay Notice from supplierA@logisticsco.com **Moved to new Business_Opportunities folder (1 email):** - Partnership Proposal - TrendCircle from marketing@trendcircle.io **Left in Inbox (2 urgent items - already flagged):** - Last Call: VAT Filing Deadline from gov-tax@tradeportal.gov ⚠️ - Missing Documents - Customs from carrier-support@airbridge.co ⚠️ The two remaining emails in your inbox are urgent items that need your immediate attention - they're already flagged in your Needs_Action folder. It’s pretty cool to see how the agent just navigates through the filesystem given the task and a minimal system prompt. We didn’t spend any time on tool design. We just mapped our domain to a filesystem and got intuitive tool behavior for free.\nOutlook You can find the full implementation on GitHub: https://github.com/Jakob-em/agent-fuse to play around with yourself. I also might write a follow up to this post about evaling this approach vs a traditional agent loop to see if this way of building agents brings any measurable gains.\nIn genreal there is a lot more potential for virtual filesystems for context engineering. You could include old conversations as files on the filesystem, or make old tool call results appear as files after compacting context. The possibilities are endless, and as long as coding agents remain relevant, this way of designing context will only get more ergonomic for models.\nMy prediction is that one of the many sandbox providers will come up with a nice API on top of this that lets you do something like:\nnew Agent({ tool: [...] sandbox: { filesystem: { '/emails': (folder) =\u003e listEmails(folder), '/old_conversations': () =\u003e listOldConversations(), } } } }) No worrying about FUSE, the sandbox, where things are executed, etc. This will be a huge differentiator and make virtual filesystems easily accessible to everyone.\n","wordCount":"2556","inLanguage":"en","datePublished":"2026-01-11T00:00:00Z","dateModified":"2026-01-11T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://jakobemmerling.de/posts/fuse-is-all-you-need/"},"publisher":{"@type":"Organization","name":"Jakob Emmerling","logo":{"@type":"ImageObject","url":"https://jakobemmerling.de/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://jakobemmerling.de/ accesskey=h title="Jakob Emmerling (Alt + H)">Jakob Emmerling</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">FUSE is All You Need - Giving agents access to anything via filesystems</h1><div class=post-meta><span title='2026-01-11 00:00:00 +0000 UTC'>January 11, 2026</span></div></header><div class=post-content><p>Giving agents access to a sandboxed environment with a shell and a filesystem has been the latest hype when it comes to agentic harnesses. Recent examples of this include:</p><ul><li><a href=https://github.com/tursodatabase/agentfs>Turso&rsquo;s AgentFS</a></li><li>Anthropic&rsquo;s <a href=https://platform.claude.com/docs/en/agent-sdk/overview>Agent SDK</a>, which brings Claude Code&rsquo;s harness to non-coding domains</li><li>Vercel <a href=https://vercel.com/blog/we-removed-80-percent-of-our-agents-tools>rebuilding their text-to-SQL agent</a> on top of a sandbox</li><li>Anthropic&rsquo;s <a href=https://github.com/anthropics/skills>Agent Skills</a> for filesystem-based progressive disclosure</li></ul><p>The argument for why this is good goes something like this:</p><blockquote><p>The big labs are doing heavy RL for coding tasks in these kinds of environments. Aligning more closely with such a harness brings free gains from the coding domain to other problem spaces.</p></blockquote><p>Beyond that, replacing a bunch of search/write/move/list tools with a single Bash tool reduces the tool space significantly. Agents can chain operations together intuitively. Unix paradigms give you good tool design for free.</p><p>On top of that there is more nice patterns that emerge from having a filesystem, for example:</p><ul><li><strong>Plan/scratch files</strong>: Agents can create temporary files to organize their thoughts, track progress, or store intermediate results. This emerges naturally from having filesystem access, no need to design a separate &ldquo;notepad&rdquo; tool.</li><li><strong>Long context handling</strong>: As conversations grow, you can compact old messages and tool results into files on the filesystem. The agent can re-read them when needed rather than keeping everything in context.</li></ul><p>So the advantages are clear. But how do you actually apply this to your domain? This is where things get tricky. Consider two examples:</p><ol><li><p><strong>A domain with parallels to filesystems</strong>: For example an agent for organizing emails. There are folders, items (emails), and you can browse them and move things around.</p></li><li><p><strong>An existing platform that already looks like a filesystem</strong>: For example an agent inside Google Drive.</p></li></ol><p>When you try to fit these into a sandboxed filesystem you might wonder:</p><ul><li>When do I copy over the files?</li><li>Do I copy over everything?</li><li>How do I write back updates that the agent made?</li><li>When do I sync edits made by a human?</li><li>How do I show folders/files progressively as the agent progresses? (Particularly useful if you want to lean into the filesystem as a tool to manage long context.)</li></ul><p><a href="https://x.com/SeeLos/status/2009806164935000211?s=20">A reply</a> to a recent post on X from Vercel about building filesystem-based agents puts it well:</p><blockquote><p>This article doesn’t really answer that question though.</p><p>They explain the shape of the filesystem really well, but the missing piece is still the main question for existing apps: how do you actually materialize Postgres + object storage + APIs into that sandbox FS in a practical and scalable way? “Preload files” is hand-wavy without a recommended ingestion/snapshot pattern.</p></blockquote><p>This post will show a pattern to close that gap: turning anything into a filesystem with the help of FUSE.</p><h2 id=an-example-email-agent>An example: Email agent<a hidden class=anchor aria-hidden=true href=#an-example-email-agent>#</a></h2><p>To make this tangible, let&rsquo;s build a fictional agent.</p><p>Imagine we&rsquo;re building an AI-powered email platform, think Gmail but with AI on top. We have our own database storing emails, folders, and contacts. We have a UI that users interact with.</p><p>Now we want to add a powerful agent on top of that platform. We could build a simple agent loop with tools like <code>list-emails</code>, <code>move-email</code>, <code>read-email</code>, but as we established there&rsquo;s a more ergonomic approach: put our emails in a filesystem.</p><p>After some thinking, we come up with the following file layout for the agent&rsquo;s sandbox:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>workspace/
</span></span><span style=display:flex><span>  Inbox/
</span></span><span style=display:flex><span>    Customer Inquiry - Size Chart (emily.wolfe@gmail.com)
</span></span><span style=display:flex><span>    PO Confirmation #2026-0038 (supplierC@fabricdirect.com)
</span></span><span style=display:flex><span>    Shipping Delay Notice (supplierA@logisticsco.com)
</span></span><span style=display:flex><span>    Partnership Proposal - TrendCircle (marketing@trendcircle.io)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Starred/
</span></span><span style=display:flex><span>    Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co)
</span></span><span style=display:flex><span>    Re: Restock ETA For Red Jackets (supplierA@logisticsco.com)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Needs_Action/
</span></span><span style=display:flex><span>    Missing Documents - Customs (carrier-support@airbridge.co)
</span></span><span style=display:flex><span>    Last Call: VAT Filing Deadline (gov-tax@tradeportal.gov)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Orders/
</span></span><span style=display:flex><span>    2026/
</span></span><span style=display:flex><span>      Feb/
</span></span><span style=display:flex><span>        PO Confirmation #2026-0038 (supplierC@fabricdirect.com)
</span></span><span style=display:flex><span>        Shipping Delay Notice (supplierA@logisticsco.com)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Customers/
</span></span><span style=display:flex><span>    Returns/
</span></span><span style=display:flex><span>      Return Request #8743 (john.hartley@yahoo.com)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Sent/
</span></span><span style=display:flex><span>    Re: Customer Inquiry - Size Chart (emily.wolfe@gmail.com)
</span></span></code></pre></div><p>Now comes the problem: we need to bridge the gap from our database to the sandboxed filesystem that the agent uses to consume our data.</p><h2 id=how-to-turn-anything-into-a-fs-enter-fuse>How to turn anything into a FS, enter FUSE<a hidden class=anchor aria-hidden=true href=#how-to-turn-anything-into-a-fs-enter-fuse>#</a></h2><p><a href=https://www.kernel.org/doc/html/v6.3/filesystems/fuse.html>FUSE</a> stands for <em>Filesystem in Userspace</em>. It&rsquo;s a framework that lets you implement filesystems outside the kernel, while the kernel makes it look like a &lsquo;real&rsquo; filesystem to the rest of Linux. You just write a userland process that implements the actual filesystem logic.</p><p>A FUSE filesystem needs to implement a small, well-defined interface: <code>lookup</code>, <code>open</code>, <code>read</code>, <code>write</code>, <code>readdir</code>, <code>create</code>, <code>unlink</code>, etc. Whenever the OS interacts with the mounted filesystem, operations get forwarded to your userspace implementation. This indirection makes it possible to expose arbitrary data structures as if they were files.</p><p>There are wrappers and bindings for higher-level languages that let you write these filesystems in the language and tech stack of your choice. No need to dive into C :)</p><h2 id=architecture>Architecture<a hidden class=anchor aria-hidden=true href=#architecture>#</a></h2><p>Coming back to our email agent, here&rsquo;s how FUSE would fit into a very high-level architecture:</p><p><img alt="Architecture of the email agent" loading=lazy src=/posts/fuse-is-all-you-need/fuse.svg>
The top row shows the traditional path: users interact with your app through a UI that talks to a backend, which reads and writes to a database.</p><p>The bottom row shows the agent path: the agent runs inside a sandbox and sees a mounted filesystem. When it does <code>ls /workspace/Inbox</code>, that call hits the FUSE layer, which translates it into a query against the same backend. The agent and your users are looking at the same data through different interfaces.</p><p>You can think of the filesystem as a UI layer for the agent. Just like your frontend decides how to present data to users, your FUSE implementation decides how to present data to the agent. Realistically you&rsquo;ll have additional tools for actions that don&rsquo;t map well to filesystem operations (like sending an email), but for browsing, reading, and organizing data, the filesystem abstraction works great.</p><p>For this blog post we&rsquo;ll keep things simple: the agent loop and FUSE implementation both run inside a Docker container, talking directly to a database. We are going to implement this in Typescript using the <a href=https://github.com/fuse-friends/fuse-native>fuse-native</a> library. In production you&rsquo;d want to structure things a bit differently, like running the agent loop outside the sandbox and have your FUSE bindings be only a thin client that calls out to your backend with proper authentication for example.</p><h2 id=implementing-the-filesystem-operations>Implementing the filesystem operations<a hidden class=anchor aria-hidden=true href=#implementing-the-filesystem-operations>#</a></h2><p>To make our data accessible via the filesystem, we need to implement the subset of FUSE operations relevant for our use case. Let&rsquo;s start with listing directories (<code>readdir</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>readdir</span>(<span style=color:#a6e22e>path</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>cb</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>err</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>names?</span>: <span style=color:#66d9ef>string</span>[]) <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>void</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>folder</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>select</span>().<span style=color:#66d9ef>from</span>(<span style=color:#a6e22e>foldersTable</span>).<span style=color:#a6e22e>where</span>(<span style=color:#a6e22e>eq</span>(<span style=color:#a6e22e>foldersTable</span>.<span style=color:#a6e22e>path</span>, <span style=color:#a6e22e>path</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>folder</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>cb</span>(<span style=color:#a6e22e>Fuse</span>.<span style=color:#a6e22e>ENOENT</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>emailsInFolder</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>select</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>emailsTable</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sender</span>: <span style=color:#66d9ef>contactsTable</span>,
</span></span><span style=display:flex><span>  }).<span style=color:#66d9ef>from</span>(<span style=color:#a6e22e>emailsTable</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>leftJoin</span>(<span style=color:#a6e22e>contactsTable</span>, <span style=color:#a6e22e>eq</span>(<span style=color:#a6e22e>emailsTable</span>.<span style=color:#a6e22e>sender</span>, <span style=color:#a6e22e>contactsTable</span>.<span style=color:#a6e22e>id</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>where</span>(<span style=color:#a6e22e>eq</span>(<span style=color:#a6e22e>emailsTable</span>.<span style=color:#a6e22e>folderId</span>, <span style=color:#a6e22e>folder</span>.<span style=color:#a6e22e>id</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>entries</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>&lt;<span style=color:#f92672>string</span>&gt;();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> {<span style=color:#a6e22e>email</span>, <span style=color:#a6e22e>sender</span>} <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>emailsInFolder</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>entries</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>subject</span><span style=color:#e6db74>}</span><span style=color:#e6db74> (</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sender</span>.<span style=color:#a6e22e>email</span><span style=color:#e6db74>}</span><span style=color:#e6db74>).eml`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>subfolders</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>select</span>().<span style=color:#66d9ef>from</span>(<span style=color:#a6e22e>foldersTable</span>).<span style=color:#a6e22e>where</span>(<span style=color:#a6e22e>like</span>(<span style=color:#a6e22e>foldersTable</span>.<span style=color:#a6e22e>path</span>, <span style=color:#a6e22e>sql</span><span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>path</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/%`</span>));
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>subfolder</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>subfolders</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>entries</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>subfolder</span>.<span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#34;/&#34;</span>).<span style=color:#a6e22e>pop</span>() <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;&#34;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cb</span>(<span style=color:#ae81ff>0</span>, Array.<span style=color:#66d9ef>from</span>(<span style=color:#a6e22e>entries</span>));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We match which email folder we&rsquo;re in based on the filesystem path, list all emails inside that folder, and add any subfolders. Together with implementing <code>getattr</code> (to get file attributes), this makes listing and navigating the folder tree via <code>ls</code> work.</p><p>To choose how email content will be represented we implement <code>read</code> like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>read</span>(<span style=color:#a6e22e>path</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>fd</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>buf</span>: <span style=color:#66d9ef>Buffer</span>, <span style=color:#a6e22e>len</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>pos</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>cb</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>err</span>: <span style=color:#66d9ef>number</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>void</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>getEmailById</span>(<span style=color:#a6e22e>fd</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>email</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>cb</span>(<span style=color:#a6e22e>Fuse</span>.<span style=color:#a6e22e>ENOENT</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>content</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>emailToContent</span>(<span style=color:#a6e22e>email</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>slice</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>content</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#a6e22e>pos</span>, <span style=color:#a6e22e>pos</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>len</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>bytesRead</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>buf</span>.<span style=color:#a6e22e>write</span>(<span style=color:#a6e22e>slice</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cb</span>(<span style=color:#a6e22e>bytesRead</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>emailToContent</span>(<span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>EmailWithSender</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`From: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>senderEmail</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Date: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>sentAt</span>.<span style=color:#a6e22e>toISOString</span>()<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Subject: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>subject</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>X-Folder: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>folderPath</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>X-Starred: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>starred</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>X-Needs-Action: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>needsAction</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span>.<span style=color:#a6e22e>body</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>There are a few more operations I implemented like <code>open</code>, <code>mkdir</code>, and <code>rename</code> to allow moving email files around and reassigning folder IDs in the database.</p><p>On top of that, I introduced the concept of <em>virtual folders</em>—the <code>Starred</code> and <code>Needs_Action</code> folders in the layout above. They work like this: if an email has the starred or needsAction flag set, it appears in these folders. Because an email can be both starred and part of an actual folder, the Starred folder contains symlinks to the &ldquo;actual&rdquo; files. The agent can unlink these files or create new links to flip attributes on the email. This might be overkill and better covered via regular tools, but I wanted to see how far I could lean into the filesystem abstraction. For this to work, I implemented additional FUSE operations: <code>readlink</code>, <code>symlink</code>, <code>unlink</code>, and adjusted the existing ones.</p><p>Deciding how to map your domain to a filesystem is really a context engineering challenge in the end. The key is finding the right balance between leveraging familiar filesystem semantics and not over-abstracting to the point where the mapping becomes confusing.</p><p>With all the filesystem operations defined, we&rsquo;re ready to mount it and see it in action. While it&rsquo;s possible to get this working on a Mac via <a href=https://macfuse.github.io/>macFUSE</a>, I chose the easier path and spun up a Docker container and mounted the filesystem there.</p><p>Here&rsquo;s a quick demo of navigating the filesystem. As you can see, it looks and works just like regular files.<code>grep</code>, <code>mv</code>, <code>ls</code> all behave as expected. The best part? There&rsquo;s no risk of anything going out of sync because we read directly from the database. We also only load the things we needed when they are accessed instead of preloading our entire database into a sandbox.</p><video controls width=100%>
<source src=fuse-demo.mp4 type=video/mp4></video><h2 id=giving-the-agent-access-to-it>Giving the agent access to it<a hidden class=anchor aria-hidden=true href=#giving-the-agent-access-to-it>#</a></h2><p>Now that we have the filesystem working, it&rsquo;s time to hook up an agent and see how it performs. I used the Anthropic Agent SDK to whip up a quick filesystem agent with tools to run Bash, Read, Glob, etc. To give the agent some context about the filesystem, I added the following system prompt:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>You are an email assistant helping the user manage their inbox.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>You have access to a filesystem at /workspace representing their email:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- Folders: Inbox, Sent, Orders, Customers, etc.
</span></span><span style=display:flex><span>- Emails: .eml files named &#34;Subject (sender@email.com).eml&#34;
</span></span><span style=display:flex><span>- Filenames contain spaces (from email subjects), so always quote paths in shell commands
</span></span><span style=display:flex><span>- Starred/Needs_Action: contain symlinks to flagged emails
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Commands you use internally:
</span></span><span style=display:flex><span>- ls, cat, find → browse emails
</span></span><span style=display:flex><span>- mv → move emails between folders
</span></span><span style=display:flex><span>- ln -s &lt;email&gt; /Starred/ → star an email
</span></span><span style=display:flex><span>- rm /Starred/&lt;email&gt; → unstar an email
</span></span><span style=display:flex><span>- mkdir → create folders
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>When responding to the user:
</span></span><span style=display:flex><span>- Describe emails by subject and sender, not filenames
</span></span><span style=display:flex><span>- Say &#34;starred&#34; not &#34;created symlink&#34;
</span></span><span style=display:flex><span>- Say &#34;moved to Orders&#34; not &#34;mv to /Orders/&#34;
</span></span><span style=display:flex><span>- Summarize what you found/did in plain language
</span></span></code></pre></div><p>Let&rsquo;s see how it approaches some common user queries:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>&gt; which emails do i have in my Inbox?
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>I&#39;ll check your Inbox to see what emails you have.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] ls -la /workspace/Inbox/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>You have 6 emails in your Inbox:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1. **&#34;Missing Documents - Customs&#34;** from carrier-support@airbridge.co (Jan 4)
</span></span><span style=display:flex><span>2. **&#34;PO Confirmation #2026-0038&#34;** from supplierC@fabricdirect.com (Jan 9)
</span></span><span style=display:flex><span>3. **&#34;Partnership Proposal - TrendCircle&#34;** from marketing@trendcircle.io (Jan 7)
</span></span><span style=display:flex><span>4. **&#34;Re: Restock ETA For Red Jackets&#34;** from supplierA@logisticsco.com (Jan 5)
</span></span><span style=display:flex><span>5. **&#34;Shipping Delay Notice&#34;** from supplierA@logisticsco.com (Jan 8)
</span></span><span style=display:flex><span>6. **&#34;Wholesale Inquiry - SilverLeaf Boutique&#34;** from boutique@silverleaf.co (Jan 6)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Would you like me to read any of these emails or help you organize them?
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>&gt; find the email about that wholesale inquiry, i need to remember to follow up on it
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>I&#39;ll help you find the wholesale inquiry email. Let me search for it.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] find /workspace -type f -name &#34;*.eml&#34; -exec grep -l &#34;wholesale&#34; {} \;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Found it! There&#39;s a wholesale inquiry from SilverLeaf Boutique (boutique@silverleaf.co) in your Inbox.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Would you like me to:
</span></span><span style=display:flex><span>1. Star it so you can easily find it later to follow up?
</span></span><span style=display:flex><span>2. Move it to a specific folder?
</span></span><span style=display:flex><span>3. Show you the email content?
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; show me the email and star it
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Read] /workspace/Inbox/Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co).eml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] ln -s &#34;/workspace/Inbox/Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co).eml&#34; /workspace/Starred/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Here&#39;s the email:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**From:** boutique@silverleaf.co
</span></span><span style=display:flex><span>**Date:** January 6, 2026
</span></span><span style=display:flex><span>**Subject:** Wholesale Inquiry - SilverLeaf Boutique
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**Message:**
</span></span><span style=display:flex><span>&#34;We&#39;re a boutique in Portland and interested in carrying your line. What are your wholesale terms?&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Good news - this email is already starred! It looks like it was already flagged for follow-up. SilverLeaf Boutique is interested in carrying your products and wants to know about your wholesale terms.
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>&gt; Organize my Inbox
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>I&#39;ll help you organize your inbox. Let me first see what emails you have there.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] ls -la /workspace/Inbox/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Now let me check what folders you already have set up:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] ls -d /workspace/*/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Perfect! I can see you have 8 emails in your inbox. Let me organize them into appropriate folders:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] mv &#34;/workspace/Inbox/Customer Inquiry - Size Chart (emily.wolfe@gmail.com).eml&#34; /workspace/Customers/
</span></span><span style=display:flex><span>[Bash] mv &#34;/workspace/Inbox/Wholesale Inquiry - SilverLeaf Boutique (boutique@silverleaf.co).eml&#34; /workspace/Customers/
</span></span><span style=display:flex><span>[Bash] mv &#34;/workspace/Inbox/PO Confirmation #2026-0038 (supplierC@fabricdirect.com).eml&#34; /workspace/Orders/
</span></span><span style=display:flex><span>[Bash] mv &#34;/workspace/Inbox/Re: Restock ETA For Red Jackets (supplierA@logisticsco.com).eml&#34; /workspace/Orders/
</span></span><span style=display:flex><span>[Bash] mv &#34;/workspace/Inbox/Shipping Delay Notice (supplierA@logisticsco.com).eml&#34; /workspace/Orders/
</span></span><span style=display:flex><span>Now let me flag the urgent items that need action:
</span></span><span style=display:flex><span>[Bash] ln -s &#34;/workspace/Inbox/Last Call: VAT Filing Deadline (gov-tax@tradeportal.gov).eml&#34; /workspace/Needs_Action/
</span></span><span style=display:flex><span>[Bash] ln -s &#34;/workspace/Inbox/Missing Documents - Customs (carrier-support@airbridge.co).eml&#34; /workspace/Needs_Action/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Good - those urgent items are already flagged. Now let me check if the partnership proposal might be something to consider:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] cat &#34;/workspace/Inbox/Partnership Proposal - TrendCircle (marketing@trendcircle.io).eml&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Let me create a folder for business opportunities and move the partnership proposal there:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] mkdir -p /workspace/Business_Opportunities &amp;&amp; mv &#34;/workspace/Inbox/Partnership Proposal - TrendCircle (marketing@trendcircle.io).eml&#34; /workspace/Business_Opportunities/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Let me verify your inbox is now organized:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Bash] ls /workspace/Inbox/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Perfect! I&#39;ve organized your inbox. Here&#39;s what I did:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**Moved to Customers folder (2 emails):**
</span></span><span style=display:flex><span>- Customer Inquiry - Size Chart from emily.wolfe@gmail.com
</span></span><span style=display:flex><span>- Wholesale Inquiry - SilverLeaf Boutique from boutique@silverleaf.co
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**Moved to Orders folder (3 emails):**
</span></span><span style=display:flex><span>- PO Confirmation #2026-0038 from supplierC@fabricdirect.com
</span></span><span style=display:flex><span>- Re: Restock ETA For Red Jackets from supplierA@logisticsco.com
</span></span><span style=display:flex><span>- Shipping Delay Notice from supplierA@logisticsco.com
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**Moved to new Business_Opportunities folder (1 email):**
</span></span><span style=display:flex><span>- Partnership Proposal - TrendCircle from marketing@trendcircle.io
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**Left in Inbox (2 urgent items - already flagged):**
</span></span><span style=display:flex><span>- Last Call: VAT Filing Deadline from gov-tax@tradeportal.gov ⚠️
</span></span><span style=display:flex><span>- Missing Documents - Customs from carrier-support@airbridge.co ⚠️
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The two remaining emails in your inbox are urgent items that need your immediate attention - they&#39;re already flagged in your Needs_Action folder.
</span></span></code></pre></div><p>It&rsquo;s pretty cool to see how the agent just navigates through the filesystem given the task and a minimal system prompt. We didn&rsquo;t spend any time on tool design. We just mapped our domain to a filesystem and got intuitive tool behavior for free.</p><h2 id=outlook>Outlook<a hidden class=anchor aria-hidden=true href=#outlook>#</a></h2><p>You can find the full implementation on GitHub: <a href=https://github.com/Jakob-em/agent-fuse>https://github.com/Jakob-em/agent-fuse</a> to play around with yourself. I also might write a follow up to this post about evaling this approach vs a traditional agent loop to see if this way of building agents brings any measurable gains.</p><p>In genreal there is a lot more potential for virtual filesystems for context engineering. You could include old conversations as files on the filesystem, or make old tool call results appear as files after compacting context. The possibilities are endless, and as long as coding agents remain relevant, this way of designing context will only get more ergonomic for models.</p><p>My prediction is that one of the many sandbox providers will come up with a nice API on top of this that lets you do something like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Agent</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tool</span><span style=color:#f92672>:</span> [...]
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>sandbox</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>filesystem</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;/emails&#39;</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>folder</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>listEmails</span>(<span style=color:#a6e22e>folder</span>),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;/old_conversations&#39;</span><span style=color:#f92672>:</span> () <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>listOldConversations</span>(),
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>	 }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>No worrying about FUSE, the sandbox, where things are executed, etc. This will be a huge differentiator and make virtual filesystems easily accessible to everyone.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jakobemmerling.de/tags/ai/>Ai</a></li><li><a href=https://jakobemmerling.de/tags/agents/>Agents</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://jakobemmerling.de/>Jakob Emmerling</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>